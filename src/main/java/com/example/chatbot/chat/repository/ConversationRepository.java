package com.example.chatbot.chat.repository;import com.example.chatbot.chat.entity.Conversation;import java.util.List;import java.util.Optional;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.query.Param;import org.springframework.stereotype.Repository;/** * conversation 리파지토리 * * @author : 오승훈 * @fileName : ConversationRepository * @since : 2026-02-04 */@Repositorypublic interface ConversationRepository extends JpaRepository<Conversation, Long> {  // 사용자의 모든 대화 조회  List<Conversation> findByUserUserIdOrderByCreatedAtDesc(Long userId);  // 사용자의 특정 대화 조회  Optional<Conversation> findByConversationIdAndUserUserId(Long conversationId, Long userId);  // 대화 제목으로 검색  @Query("SELECT c FROM Conversation c WHERE c.user.userId = :userId " +      "AND c.title LIKE %:keyword% ORDER BY c.createdAt DESC")  List<Conversation> searchByTitleAndUserId(@Param("keyword") String keyword,      @Param("userId") Long userId);}